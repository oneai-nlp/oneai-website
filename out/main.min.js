!function(){const t={};function n(t){const n=t.querySelector('[data-type="other"] input'),e=Array.from(t.querySelectorAll('[type="checkbox"]')).filter((t=>t.checked)).map((t=>(t.labels||[t])[0].innerText||t.name));return n?.value&&e.push(n.value),e}function e(t){const n=t.querySelector('[data-type="other"] input'),e=Array.from(t.querySelectorAll('[type="radio"]')).find((t=>t.checked)),i=(e?.labels||[e])[0]?.innerText||e?.name;return n?.value||i}t.default={setup:()=>{},validate:()=>!0,output:()=>{}},t.checkboxes={setup:function(t){t.querySelectorAll('input[type="checkbox"]').forEach((t=>{t.parentElement?.classList.toggle("is-active",t.checked),t.addEventListener("change",(()=>t.parentElement?.classList.toggle("is-active",t.checked)))}))},validate:t=>n(t).length>0,output:n},t.radios={setup:function(t){const n=t.querySelector('[data-type="other"] input'),e=t.querySelectorAll('input[type="radio"]');n?.addEventListener("change",(()=>{n.value&&e.forEach((t=>{t.checked=!1,t.parentElement?.classList.toggle("is-active",!1)}))})),e.forEach((t=>{t.parentElement?.classList.toggle("is-active",t.checked),t.addEventListener("change",(()=>{e.forEach((t=>{t.parentElement?.classList.toggle("is-active",t.checked)})),n&&(n.value="",n.dispatchEvent(new Event("blur")))}))}))},validate:t=>void 0!==e(t),output:e};const i='input[type="text"], input[type="email"], input[type="tel"], input[type="url"], textarea';function s(t){const n=Array.from(t.querySelectorAll("select"));return 1===n.length?n[0].value:Object.fromEntries(n.filter((t=>t.name)).map((t=>[t.name,t.value])))}function o(t){t.label.style.opacity="1",t.input.style.opacity="0",t.label.innerText=t.input.value||t.defaultText,t.element.classList.toggle("is-active",Boolean(t.input.value))}function c(t){const n=t.querySelector("label"),e=t.querySelector("input");if(!n||!e)return void console.error("Failed to create an 'other option' - element is invalid:",t);const i={element:t,input:e,label:n,defaultText:n.innerText};t.addEventListener("click",(()=>{return(t=i).label.style.opacity="0",t.input.style.opacity="1",void t.input.focus();var t})),e.addEventListener("blur",(()=>o(i))),e.addEventListener("keydown",(t=>{"Enter"===t.key&&(o(i),e.blur(),t.stopPropagation())})),o(i)}t.text={setup:function(t){const n=Array.from(t.querySelectorAll(i));n.forEach(((t,e)=>{t.addEventListener("change",(()=>{t.validity.valid&&n[e+1]?.focus()}))}))},validate:function(t){return!(t.querySelector(".g-recaptcha")&&window.grecaptcha&&!window.grecaptcha.enterprise.getResponse())&&Array.from(t.querySelectorAll(i)).every((t=>t.validity.valid))},output:function(t){const n=Array.from(t.querySelectorAll(i));return 1===n.length?n[0].value:Object.fromEntries(n.filter((t=>t.name)).map((t=>[t.name,t.value])))}},t.select={setup:t=>{},validate:t=>void 0!==s(t),output:s};const u={};function a(t){const n=document.createElement("link"),e=document.createElement("script");n.rel="stylesheet",n.href="https://cdn.jsdelivr.net/npm/intl-tel-input@20.0.4/build/css/intlTelInput.css",e.src="https://cdn.jsdelivr.net/npm/intl-tel-input@20.0.4/build/js/intlTelInput.min.js",e.async=!0,e.onload=t,document.head.appendChild(n),document.head.appendChild(e)}u.other=(t,n,e)=>{c(e)},u.next=(t,n,e)=>{if(e.addEventListener("click",(n=>{t.next(!1),n.preventDefault()})),e.hasAttribute("data-alwayson"))return;const i=t.steps[n];i.t.addEventListener("input",(()=>{e.disabled=!i.valid,e.classList.toggle("is-disabled",!i.valid)}))},u.skip=(t,n,e)=>{e.addEventListener("click",(n=>{t.next(!0),n.preventDefault()}))},u.back=(t,n,e)=>{e.addEventListener("click",(()=>t.back()))},u.breadcrumb=(t,n,e)=>{const i=e.dataset.breadcrumb;i&&e.addEventListener("click",(()=>t.move(+i)))},u.end=(t,n,e)=>{const i=t.steps[n].t.querySelector("[data-type=spinner]");e.style.display="none",t.i.addEventListener("form:submit",(n=>{t.o(n.detail).then((t=>{"redirect"in e.dataset&&(window.location.href=t),e.href=t,e.style.display="",i&&(i.style.display="none")}))}))},u.error=(t,n,e)=>{const i=e.getAttribute("for");if(!i)return;const s=t.steps[n].t.querySelector(`#${i}`);s&&(e.innerText=s.value?s.validationMessage:"",t.i.addEventListener("form:init",(()=>{s.addEventListener("input",(()=>{e.innerText=s.validationMessage}))})))},u["hs-scheduler"]=(t,n,e)=>{t.i.addEventListener("form:submit",(()=>{const n=document.createElement("script");n.src="https://static.hsappstatic.net/MeetingsEmbed/ex/MeetingsEmbedCode.js";const i=t.u.submissionToContactInfo(t.extractOutput()),s=new URLSearchParams(i);s.set("embed","true");const o="https://meetings-eu1.hubspot.com/",c=t.u.chooseScheduler(i);c||(t.i.innerHTML="Submission Received"),e.dataset.src=`${o}${c}?${s}`,e.classList.add("meetings-iframe-container"),e.innerHTML="",e.insertAdjacentElement("afterend",n),window.addEventListener("message",(n=>{new URL(n.origin).host===new URL(o).host&&t.i.dispatchEvent(new CustomEvent("form:scheduler",{detail:n.data}))}))}))},u.iti=(t,n,e)=>{a((()=>{const t=e.value;e.value="",window.iti=window.intlTelInput(e,{dropdownContainer:isMobile()&&e.dataset.dropdownContainer?document.querySelector(e.dataset.dropdownContainer):null,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@20.0.4/build/js/utils.js",autoPlaceholder:"aggressive",initialCountry:"auto",geoIpLookup:function(t){fetch("https://ipapi.co/json").then((t=>{if(t.ok)return t.json();throw new Error("Failed to fetch the user's country by IP")})).then((n=>t(n.country))).catch((()=>t("US")))}}),window.iti.promise.then((()=>{t&&!window.iti.getNumber()&&(e.value=t,e.dispatchEvent(new Event("input",{bubbles:!0})))}))}));const i=[];for(let t of["country","countryCode"]){const n=document.createElement("input");n.type="text",n.style.display="none",n.name=t,i.push(n),e.insertAdjacentElement("afterend",n)}const s=()=>{i[0].value=window.iti?.getSelectedCountryData()?.name||"unknown",i[1].value=window.iti?.getSelectedCountryData()?.iso2||"unknown"};e.addEventListener("countrychange",s),e.addEventListener("input",(()=>{let t="";if(window.iti.isValidNumber())s();else{const n=["Invalid number","Invalid country code","Too short","Too long","Invalid number"];t=n[window.iti.getValidationError()]||n[0]}e.setCustomValidity(t)}))};let r=[];function d(t){const n=t.value.split("@")[1];if(!t.validity.valid&&!t.validity.customError)return;let e="";n?r.includes(n)&&(e=`Please enter a different email address. This form doesn't accept emails from domain ${n}`):e="Missing email domain",t.setCustomValidity(e)}function h(t,n){const e=t.steps[n],{t:i}=e;i.style.inset="0",i.style.position="absolute",i.style.display="none",i.style.opacity="0",i.style.zIndex="-1",setTimeout((()=>{i.style.display=""})),Object.entries(u).forEach((([e,s])=>{i.querySelectorAll(`[data-type=${e}]`).forEach((e=>s(t,n,e)))}))}function l(t){const n=document.createElement("input");n.type="hidden",n.name="current-step",n.value="0",t.i.appendChild(n),"nokeybindings"in t.i.dataset||document.addEventListener("keydown",m.bind(t)),t.i.addEventListener("form:step",(e=>{n.value=e.detail.index.toString(),n.dispatchEvent(new Event("change",{bubbles:!0})),p.call(t,e)})),t.i.addEventListener("form:submit",(t=>{n.value="0",n.dispatchEvent(new Event("change",{bubbles:!0}))})),t.steps.forEach(((n,e)=>h(t,e)))}function p(t){const n=this.steps[t.detail.previousIndex]?.t,e=this.steps[t.detail.index]?.t;if(n&&n!==e&&(n.style.opacity="0",n.style.zIndex="-1",n.style.position="absolute"),e){e.style.opacity="1",e.style.zIndex="1",e.style.position="relative";const t=Array.from(e.querySelectorAll("input, textarea")),n=t.find((t=>t.autofocus))||t.find((t=>!t.validity.valid))||t[0];n&&(n.focus(),n.value&&!n.validity.valid&&n.reportValidity())}}function m(t){if(!(this.i.getBoundingClientRect().bottom<window.scrollY))switch(t.key){case"Enter":case"ArrowDown":this.steps[this.h].valid&&(this.next(),t.preventDefault());break;case"ArrowUp":this.back(),t.preventDefault()}}async function b(t,n){const e=t.submissionToContactInfo(n);if(!e)return;const i={fields:Object.entries(e).filter((([t,n])=>t)).map((([t,n])=>({name:t,value:n}))),submittedAt:Date.now(),context:{hutk:getCookie("hubspotutk"),pageUri:window.location.href,pageName:document.title}},s=`https://api.hsforms.com/submissions/v3/integration/submit/${t.portalId}/${t.formGuid}`,o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});return await o.json()}u.email=(t,n,e)=>{var i;i=()=>{e.value&&(d(e),e.dispatchEvent(new Event("input",{bubbles:!0})))},r.length?i():fetch("https://www.unpkg.com/email-providers/common.json").then((t=>t.json())).then((t=>{r=t})).then(i),e.addEventListener("input",(()=>d(e)))};const w="auto",f="validate",v="none";class y{constructor(n,e){this.name=e.name,this.t=e,this.l=e.dataset.nextBehavior||v,this.p=t[e.dataset.stepType]||t.default,this.valid=!1,this.value=void 0,this.p.setup(e),e.addEventListener("input",(()=>{this.valid=this.p.validate(e),this.value=this.p.output(e)})),e.dispatchEvent(new Event("input")),e.addEventListener("change",(()=>{this.l===w&&this.valid&&setTimeout((()=>n.next()),parseInt(e.dataset.nextDelay)||1e3)}))}}class g{constructor(t,n,e,i){this.i=t,this.h=-1,this.o=n,this.u=e;const s=Array.from(t.querySelectorAll("fieldset"));this.steps=s.map((t=>new y(this,t))),l(this),t.dispatchEvent(new CustomEvent("form:init",{bubbles:!0})),this.move(i||0)}next(t=!1){if(this.h===this.steps.length-1)return;const n=this.steps[this.h];t||n.valid||n.l!==f?(this.move(this.h+1),this.h===this.steps.length-1&&this.submit()):this.move(this.h)}back(){this.h<=1||this.h>=this.steps.length-1||this.move(this.h-1)}move(t){const n=new CustomEvent("form:step",{detail:{index:t,previousIndex:this.h},bubbles:!0});this.h=t,this.i.dispatchEvent(n)}submit(){const t=this.extractOutput(),n=()=>{this.i.dispatchEvent(new CustomEvent("form:submit",{detail:t,bubbles:!0}))};this.u?b(this.u,t).then(n):n()}extractOutput(){return this.steps.reduce(((t,n)=>(void 0!==n.value&&(t[n.name]=n.value),t)),{})}}function k(t,n,e="form-data"){Object.entries(JSON.parse(t.getItem(e)||"{}")).forEach(j(n)),n.addEventListener("change",E(t,n,e))}function E(t,n,e){return i=>{const s=JSON.stringify(Object.fromEntries(new FormData(n).entries()));t.setItem(e,s);const o=i.target;o&&n.dispatchEvent(new CustomEvent("form:change",{detail:{key:"checkbox"===o.type?o.labels[0].innerText:o.name,value:"checkbox"===o.type?o.checked:o.value},bubbles:!0}))}}function j(t){return([n,e])=>{const i=t.querySelector(`input[name=${n}]`);if(i)switch(i.type){case"checkbox":i.checked=!0;break;case"radio":const s=t.querySelector(`[name=${n}][value="${e}"]`);s&&(s.checked=!0);break;default:e&&(i.value=e,i.dispatchEvent(new Event("input",{bubbles:!0})))}}}window.forms={init:function(t){const n={...window.forms.defaultConfig,...t},e=window.location.pathname.split("/").pop()+"-form-data",i=n.storage||sessionStorage;k(i,n.form,e);const s=+(JSON.parse(i.getItem(e)||"{}")["current-step"]||0);return new g(n.form,n.generateEndScreenUrl,n.hsConfig,s)},defaultConfig:{}}}();